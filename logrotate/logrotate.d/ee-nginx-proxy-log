/opt/easyengine/services/nginx-proxy/logs/*.log
{
    weekly
    missingok
    rotate 12
    compress
    delaycompress
    notifempty
    sharedscripts
    postrotate
        # Gá»­i USR1 cho container nginx-proxy
        /usr/bin/docker inspect -f '{{ .State.Pid }}' services_global-nginx-proxy_1 | xargs /usr/bin/kill -USR1 || echo "ok"

        # Ghi log
        echo "$(date +'[%d/%m/%Y %H:%M:%S]') LogRotate.INFO: Rotated logs for nginx-proxy" >> /opt/easyengine/logs/ee.log
    endscript
}
